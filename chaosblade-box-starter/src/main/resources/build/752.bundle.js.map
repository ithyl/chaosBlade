{"version":3,"file":"752.bundle.js","sources":["../752.bundle.js"],"sourcesContent":["(self[\"webpackChunk\"] = self[\"webpackChunk\"] || []).push([[752],{\n\n/***/ 79566:\n/***/ ((__unused_webpack_module, exports, __webpack_require__) => {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nvar next_1 = __webpack_require__(30156);\nexports[\"default\"] = next_1.Checkbox;\n\n\n/***/ }),\n\n/***/ 91714:\n/***/ (function(__unused_webpack_module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nvar react_1 = __importDefault(__webpack_require__(27378));\nvar next_1 = __webpack_require__(30156);\nvar hoist_non_react_statics_1 = __importDefault(__webpack_require__(55839));\nvar withThemeClass_1 = __webpack_require__(46949);\nvar Step = (function (props) {\n    // @ts-ignore\n    return react_1.default.createElement(next_1.Step, __assign({ stretch: true }, props));\n});\nhoist_non_react_statics_1.default(Step, next_1.Step);\nexports[\"default\"] = withThemeClass_1.withThemeClass(Step);\n\n\n/***/ }),\n\n/***/ 64287:\n/***/ (function(module, exports, __webpack_require__) {\n\nvar __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var _typeof = __webpack_require__(24596);\n\nvar _Object$defineProperty = __webpack_require__(67394);\n\nvar _WeakMap = __webpack_require__(93168);\n\nvar _Object$getOwnPropertyDescriptor = __webpack_require__(23587);\n\nvar _Object$keys = __webpack_require__(83452);\n\nvar _Object$getOwnPropertySymbols = __webpack_require__(95315);\n\nvar _Object$getOwnPropertyDescriptors = __webpack_require__(63774);\n\nvar _Object$defineProperties = __webpack_require__(92937);\n\n(function (global, factory) {\n  if (true) {\n    !(__WEBPACK_AMD_DEFINE_ARRAY__ = [exports, __webpack_require__(15286), __webpack_require__(57379), __webpack_require__(81853), __webpack_require__(27378), __webpack_require__(84014)], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory),\n\t\t__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?\n\t\t(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),\n\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n  } else { var mod; }\n})(typeof globalThis !== \"undefined\" ? globalThis : typeof self !== \"undefined\" ? self : this, function (_exports, _input, _defineProperty2, _slicedToArray2, _react, _index) {\n  \"use strict\";\n\n  var _interopRequireDefault = __webpack_require__(67971);\n\n  _Object$defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n\n  _exports[\"default\"] = void 0;\n  _input = _interopRequireDefault(_input);\n  _defineProperty2 = _interopRequireDefault(_defineProperty2);\n  _slicedToArray2 = _interopRequireDefault(_slicedToArray2);\n  _react = _interopRequireWildcard(_react);\n  _index = _interopRequireDefault(_index);\n\n  function _getRequireWildcardCache(nodeInterop) { if (typeof _WeakMap !== \"function\") return null; var cacheBabelInterop = new _WeakMap(); var cacheNodeInterop = new _WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\n  function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { \"default\": obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = _Object$defineProperty && _Object$getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? _Object$getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { _Object$defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj[\"default\"] = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\n  function ownKeys(object, enumerableOnly) { var keys = _Object$keys(object); if (_Object$getOwnPropertySymbols) { var symbols = _Object$getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return _Object$getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\n  function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { (0, _defineProperty2[\"default\"])(target, key, source[key]); }) : _Object$getOwnPropertyDescriptors ? _Object$defineProperties(target, _Object$getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { _Object$defineProperty(target, key, _Object$getOwnPropertyDescriptor(source, key)); }); } return target; }\n\n  var CloudForm = function CloudForm(props) {\n    var info = props.info,\n        onChange = props.onChange; // const dispatch = useDispatch();\n\n    var _useState = (0, _react.useState)(info || {}),\n        _useState2 = (0, _slicedToArray2[\"default\"])(_useState, 2),\n        cloudInfo = _useState2[0],\n        setCloudInfo = _useState2[1]; // const [ resultInfo, setResultInfo ] = useState<any>(null);\n\n\n    (0, _react.useEffect)(function () {\n      if (info) {\n        setCloudInfo(info);\n      }\n    }, [info]);\n    (0, _react.useEffect)(function () {\n      onChange(cloudInfo);\n    }, [cloudInfo]); // 检验公有云账号\n    // const checkCloud = async () => {\n    //   const { account, password } = cloudInfo;\n    //   if (!account) {\n    //     return Message.error('请输入公有云账号！');\n    //   }\n    //   if (!password) {\n    //     return Message.error('请输入公有云密码！');\n    //   }\n    //   const res = await dispatch.migration.checkCloudAccount(cloudInfo);\n    //   if (res) {\n    //     setResultInfo({ pass: true, msg: '验证通过！' });\n    //     onChange(cloudInfo);\n    //   } else {\n    //     onChange(false);\n    //     setResultInfo({ pass: false, msg: '验证失败！' });\n    //   }\n    // };\n\n    return /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n      className: _index[\"default\"].content\n    }, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n      className: _index[\"default\"].formItem\n    }, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n      className: _index[\"default\"].label\n    }, \"AK\"), /*#__PURE__*/_react[\"default\"].createElement(_input[\"default\"], {\n      style: {\n        flexGrow: 1\n      },\n      value: cloudInfo.account,\n      onChange: function onChange(val) {\n        return setCloudInfo(_objectSpread(_objectSpread({}, cloudInfo), {}, {\n          account: val\n        }));\n      }\n    })), /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n      className: _index[\"default\"].formItem\n    }, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n      className: _index[\"default\"].label\n    }, \"SK\"), /*#__PURE__*/_react[\"default\"].createElement(_input[\"default\"], {\n      style: {\n        flexGrow: 1\n      },\n      value: cloudInfo.password,\n      onChange: function onChange(val) {\n        return setCloudInfo(_objectSpread(_objectSpread({}, cloudInfo), {}, {\n          password: val\n        }));\n      }\n    })));\n  };\n\n  var _default = CloudForm;\n  _exports[\"default\"] = _default;\n});\n\n/***/ }),\n\n/***/ 4075:\n/***/ (function(module, exports, __webpack_require__) {\n\nvar __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var _typeof = __webpack_require__(24596);\n\nvar _Object$defineProperty = __webpack_require__(67394);\n\nvar _WeakMap = __webpack_require__(93168);\n\nvar _Object$getOwnPropertyDescriptor = __webpack_require__(23587);\n\nvar _Object$keys = __webpack_require__(83452);\n\nvar _Object$getOwnPropertySymbols = __webpack_require__(95315);\n\nvar _Object$getOwnPropertyDescriptors = __webpack_require__(63774);\n\nvar _Object$defineProperties = __webpack_require__(92937);\n\n(function (global, factory) {\n  if (true) {\n    !(__WEBPACK_AMD_DEFINE_ARRAY__ = [exports, __webpack_require__(72153), __webpack_require__(15286), __webpack_require__(57379), __webpack_require__(17534), __webpack_require__(77809), __webpack_require__(81853), __webpack_require__(27378), __webpack_require__(66697), __webpack_require__(14798), __webpack_require__(84014), __webpack_require__(14870)], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory),\n\t\t__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?\n\t\t(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),\n\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n  } else { var mod; }\n})(typeof globalThis !== \"undefined\" ? globalThis : typeof self !== \"undefined\" ? self : this, function (_exports, _button, _input, _defineProperty2, _message, _asyncToGenerator2, _slicedToArray2, _react, _Translation, _i18n, _index, _sreUtilsDva) {\n  \"use strict\";\n\n  var _interopRequireDefault = __webpack_require__(67971);\n\n  _Object$defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n\n  _exports[\"default\"] = void 0;\n  _button = _interopRequireDefault(_button);\n  _input = _interopRequireDefault(_input);\n  _defineProperty2 = _interopRequireDefault(_defineProperty2);\n  _message = _interopRequireDefault(_message);\n  _asyncToGenerator2 = _interopRequireDefault(_asyncToGenerator2);\n  _slicedToArray2 = _interopRequireDefault(_slicedToArray2);\n  _react = _interopRequireWildcard(_react);\n  _Translation = _interopRequireDefault(_Translation);\n  _i18n = _interopRequireDefault(_i18n);\n  _index = _interopRequireDefault(_index);\n\n  function _getRequireWildcardCache(nodeInterop) { if (typeof _WeakMap !== \"function\") return null; var cacheBabelInterop = new _WeakMap(); var cacheNodeInterop = new _WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\n  function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { \"default\": obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = _Object$defineProperty && _Object$getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? _Object$getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { _Object$defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj[\"default\"] = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\n  function ownKeys(object, enumerableOnly) { var keys = _Object$keys(object); if (_Object$getOwnPropertySymbols) { var symbols = _Object$getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return _Object$getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\n  function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { (0, _defineProperty2[\"default\"])(target, key, source[key]); }) : _Object$getOwnPropertyDescriptors ? _Object$defineProperties(target, _Object$getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { _Object$defineProperty(target, key, _Object$getOwnPropertyDescriptor(source, key)); }); } return target; }\n\n  var DBForm = function DBForm(props) {\n    var info = props.info,\n        onChange = props.onChange;\n    var dispatch = (0, _sreUtilsDva.useDispatch)();\n\n    var _useState = (0, _react.useState)(info || {}),\n        _useState2 = (0, _slicedToArray2[\"default\"])(_useState, 2),\n        dbInfo = _useState2[0],\n        setDbInfo = _useState2[1];\n\n    var _useState3 = (0, _react.useState)(null),\n        _useState4 = (0, _slicedToArray2[\"default\"])(_useState3, 2),\n        resultInfo = _useState4[0],\n        setResultInfo = _useState4[1];\n\n    (0, _react.useEffect)(function () {\n      if (info) {\n        setDbInfo(info);\n      }\n    }, [info]);\n    (0, _react.useEffect)(function () {\n      onChange(dbInfo);\n    }, [dbInfo]); // 检测数据库账号\n\n    var checkDb = /*#__PURE__*/function () {\n      var _ref = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n        var account, password, host, port, res;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                account = dbInfo.account, password = dbInfo.password, host = dbInfo.host, port = dbInfo.port;\n\n                if (account) {\n                  _context.next = 3;\n                  break;\n                }\n\n                return _context.abrupt(\"return\", _message[\"default\"].error(_i18n[\"default\"].t('Please enter Mysql username')));\n\n              case 3:\n                if (password) {\n                  _context.next = 5;\n                  break;\n                }\n\n                return _context.abrupt(\"return\", _message[\"default\"].error(_i18n[\"default\"].t('Please enter Mysql password')));\n\n              case 5:\n                if (host) {\n                  _context.next = 7;\n                  break;\n                }\n\n                return _context.abrupt(\"return\", _message[\"default\"].error(_i18n[\"default\"].t('Please enter Mysql IP address')));\n\n              case 7:\n                if (port) {\n                  _context.next = 9;\n                  break;\n                }\n\n                return _context.abrupt(\"return\", _message[\"default\"].error(_i18n[\"default\"].t('Please enter Mysql port')));\n\n              case 9:\n                _context.next = 11;\n                return dispatch.migration.checkDbAccount(dbInfo);\n\n              case 11:\n                res = _context.sent;\n\n                if (res) {\n                  onChange(_objectSpread(_objectSpread({}, dbInfo), {}, {\n                    pass: true\n                  }));\n                  setResultInfo({\n                    pass: true,\n                    msg: _i18n[\"default\"].t('Verified')\n                  });\n                } else {\n                  onChange(_objectSpread(_objectSpread({}, dbInfo), {}, {\n                    pass: false\n                  }));\n                  setResultInfo({\n                    pass: false,\n                    msg: _i18n[\"default\"].t('Verification failed')\n                  });\n                }\n\n              case 13:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      return function checkDb() {\n        return _ref.apply(this, arguments);\n      };\n    }();\n\n    return /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n      className: _index[\"default\"].content\n    }, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n      className: _index[\"default\"].formItem\n    }, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n      className: _index[\"default\"].label\n    }, /*#__PURE__*/_react[\"default\"].createElement(_Translation[\"default\"], null, \"Username\")), /*#__PURE__*/_react[\"default\"].createElement(_input[\"default\"], {\n      style: {\n        flexGrow: 1\n      },\n      defaultValue: dbInfo.account,\n      onChange: function onChange(val) {\n        return setDbInfo(_objectSpread(_objectSpread({}, dbInfo), {}, {\n          account: val\n        }));\n      }\n    })), /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n      className: _index[\"default\"].formItem\n    }, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n      className: _index[\"default\"].label\n    }, /*#__PURE__*/_react[\"default\"].createElement(_Translation[\"default\"], null, \"Password\")), /*#__PURE__*/_react[\"default\"].createElement(_input[\"default\"], {\n      style: {\n        flexGrow: 1\n      },\n      defaultValue: dbInfo.password,\n      onChange: function onChange(val) {\n        return setDbInfo(_objectSpread(_objectSpread({}, dbInfo), {}, {\n          password: val\n        }));\n      }\n    })), /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n      className: _index[\"default\"].formItem\n    }, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n      className: _index[\"default\"].label\n    }, /*#__PURE__*/_react[\"default\"].createElement(_Translation[\"default\"], null, \"IP address\")), /*#__PURE__*/_react[\"default\"].createElement(_input[\"default\"], {\n      style: {\n        flexGrow: 1\n      },\n      defaultValue: dbInfo.host,\n      onChange: function onChange(val) {\n        return setDbInfo(_objectSpread(_objectSpread({}, dbInfo), {}, {\n          host: val\n        }));\n      }\n    })), /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n      className: _index[\"default\"].formItem\n    }, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n      className: _index[\"default\"].label\n    }, /*#__PURE__*/_react[\"default\"].createElement(_Translation[\"default\"], null, \"port\")), /*#__PURE__*/_react[\"default\"].createElement(_input[\"default\"], {\n      style: {\n        flexGrow: 1\n      },\n      defaultValue: dbInfo.port,\n      onChange: function onChange(val) {\n        return setDbInfo(_objectSpread(_objectSpread({}, dbInfo), {}, {\n          port: val\n        }));\n      }\n    })), /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n      style: {\n        textAlign: 'right',\n        marginBottom: 42\n      }\n    }, resultInfo && /*#__PURE__*/_react[\"default\"].createElement(\"span\", {\n      style: {\n        color: resultInfo.pass ? 'green' : 'red'\n      }\n    }, resultInfo.msg), /*#__PURE__*/_react[\"default\"].createElement(_button[\"default\"], {\n      type: \"primary\",\n      size: \"small\",\n      onClick: function onClick() {\n        return checkDb();\n      }\n    }, /*#__PURE__*/_react[\"default\"].createElement(_Translation[\"default\"], null, \"Verify connection\"))));\n  };\n\n  var _default = DBForm;\n  _exports[\"default\"] = _default;\n});\n\n/***/ }),\n\n/***/ 56870:\n/***/ (function(module, exports, __webpack_require__) {\n\nvar __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var _typeof = __webpack_require__(24596);\n\nvar _Object$defineProperty = __webpack_require__(67394);\n\nvar _WeakMap = __webpack_require__(93168);\n\nvar _Object$getOwnPropertyDescriptor = __webpack_require__(23587);\n\n(function (global, factory) {\n  if (true) {\n    !(__WEBPACK_AMD_DEFINE_ARRAY__ = [exports, __webpack_require__(17225), __webpack_require__(27378), __webpack_require__(66697), __webpack_require__(84014)], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory),\n\t\t__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?\n\t\t(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),\n\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n  } else { var mod; }\n})(typeof globalThis !== \"undefined\" ? globalThis : typeof self !== \"undefined\" ? self : this, function (_exports, _icon, _react, _Translation, _index) {\n  \"use strict\";\n\n  var _interopRequireDefault = __webpack_require__(67971);\n\n  _Object$defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n\n  _exports[\"default\"] = void 0;\n  _icon = _interopRequireDefault(_icon);\n  _react = _interopRequireWildcard(_react);\n  _Translation = _interopRequireDefault(_Translation);\n  _index = _interopRequireDefault(_index);\n\n  function _getRequireWildcardCache(nodeInterop) { if (typeof _WeakMap !== \"function\") return null; var cacheBabelInterop = new _WeakMap(); var cacheNodeInterop = new _WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\n  function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { \"default\": obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = _Object$defineProperty && _Object$getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? _Object$getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { _Object$defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj[\"default\"] = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\n  var Index = function Index() {\n    return /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n      className: _index[\"default\"].finish\n    }, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n      className: _index[\"default\"].tips\n    }, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n      className: _index[\"default\"].pHeader,\n      style: {\n        color: 'green'\n      }\n    }, /*#__PURE__*/_react[\"default\"].createElement(_icon[\"default\"], {\n      type: \"check-circle\"\n    }), \" \", /*#__PURE__*/_react[\"default\"].createElement(_Translation[\"default\"], null, \"Data migration succeeded\")), /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n      className: _index[\"default\"].desp\n    }, /*#__PURE__*/_react[\"default\"].createElement(_Translation[\"default\"], null, \"After the data migration is successful, you can jump to the public cloud to view\"))));\n  };\n\n  var _default = /*#__PURE__*/(0, _react.memo)(Index);\n\n  _exports[\"default\"] = _default;\n});\n\n/***/ }),\n\n/***/ 50388:\n/***/ (function(module, exports, __webpack_require__) {\n\nvar __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var _typeof = __webpack_require__(24596);\n\nvar _Object$defineProperty = __webpack_require__(67394);\n\nvar _WeakMap = __webpack_require__(93168);\n\nvar _Object$getOwnPropertyDescriptor = __webpack_require__(23587);\n\n(function (global, factory) {\n  if (true) {\n    !(__WEBPACK_AMD_DEFINE_ARRAY__ = [exports, __webpack_require__(91714), __webpack_require__(72153), __webpack_require__(17225), __webpack_require__(17534), __webpack_require__(77809), __webpack_require__(81853), __webpack_require__(27378), __webpack_require__(66697), __webpack_require__(14798), __webpack_require__(84014), __webpack_require__(14870)], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory),\n\t\t__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?\n\t\t(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),\n\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n  } else { var mod; }\n})(typeof globalThis !== \"undefined\" ? globalThis : typeof self !== \"undefined\" ? self : this, function (_exports, _step, _button, _icon, _message, _asyncToGenerator2, _slicedToArray2, _react, _Translation, _i18n, _index, _sreUtilsDva) {\n  \"use strict\";\n\n  var _interopRequireDefault = __webpack_require__(67971);\n\n  _Object$defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n\n  _exports[\"default\"] = void 0;\n  _step = _interopRequireDefault(_step);\n  _button = _interopRequireDefault(_button);\n  _icon = _interopRequireDefault(_icon);\n  _message = _interopRequireDefault(_message);\n  _asyncToGenerator2 = _interopRequireDefault(_asyncToGenerator2);\n  _slicedToArray2 = _interopRequireDefault(_slicedToArray2);\n  _react = _interopRequireWildcard(_react);\n  _Translation = _interopRequireDefault(_Translation);\n  _i18n = _interopRequireDefault(_i18n);\n  _index = _interopRequireDefault(_index);\n\n  function _getRequireWildcardCache(nodeInterop) { if (typeof _WeakMap !== \"function\") return null; var cacheBabelInterop = new _WeakMap(); var cacheNodeInterop = new _WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\n  function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { \"default\": obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = _Object$defineProperty && _Object$getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? _Object$getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { _Object$defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj[\"default\"] = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\n  var statusConf = {\n    READY: {\n      name: _i18n[\"default\"].t('Preparing'),\n      value: 0,\n      color: 'grey',\n      icon: 'clock'\n    },\n    RUNNING: {\n      name: _i18n[\"default\"].t('Running'),\n      value: 1,\n      color: '#0070cc',\n      icon: 'loading'\n    },\n    FAILED: {\n      name: _i18n[\"default\"].t('Fail'),\n      value: 2,\n      color: 'red',\n      icon: 'times-circle'\n    },\n    SUCCESS: {\n      name: _i18n[\"default\"].t('Success'),\n      value: 1,\n      color: 'green',\n      icon: 'check-circle'\n    }\n  };\n\n  var Index = function Index(props) {\n    var onChangeStep = props.onChangeStep;\n    var dispatch = (0, _sreUtilsDva.useDispatch)();\n\n    var _useState = (0, _react.useState)(''),\n        _useState2 = (0, _slicedToArray2[\"default\"])(_useState, 2),\n        currStatus = _useState2[0],\n        setCurrentStatus = _useState2[1];\n\n    var _useState3 = (0, _react.useState)([]),\n        _useState4 = (0, _slicedToArray2[\"default\"])(_useState3, 2),\n        progress = _useState4[0],\n        setProgress = _useState4[1];\n\n    (0, _react.useEffect)(function () {\n      getData();\n      var id = setInterval(function () {\n        return getData();\n      }, 10 * 1000);\n      return function () {\n        clearInterval(id);\n      };\n    }, []);\n\n    var getData = /*#__PURE__*/function () {\n      var _ref = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n        var res, _progress, status;\n\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return dispatch.migration.queryMigrationResult({\n                  migration_flag: ''\n                });\n\n              case 2:\n                res = _context.sent;\n\n                if (res) {\n                  _progress = res.progress, status = res.status;\n                  setProgress(_progress);\n                  setCurrentStatus(status);\n\n                  if (['SUCCESS'].includes(status)) {\n                    onChangeStep(2);\n                  }\n                }\n\n              case 4:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      return function getData() {\n        return _ref.apply(this, arguments);\n      };\n    }();\n\n    var onRetry = /*#__PURE__*/function () {\n      var _ref2 = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/regeneratorRuntime.mark(function _callee2(type) {\n        var res;\n        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.next = 2;\n                return dispatch.migration.startMigration({\n                  migration_flag: type\n                });\n\n              case 2:\n                res = _context2.sent;\n\n                if (res) {\n                  _message[\"default\"].success(_i18n[\"default\"].t('Re-migrating'));\n                }\n\n              case 4:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2);\n      }));\n\n      return function onRetry(_x) {\n        return _ref2.apply(this, arguments);\n      };\n    }(); // const renderStep1 = () => {\n    //   return (\n    //     <div>\n    //       <div className={styles.proItem}>\n    //         <div>演练数据迁移</div>\n    //         <div style={{ color: 'green' }}><Icon type=\"check-circle\" size=\"xs\" /> 已完成</div>\n    //       </div>\n    //       <div className={styles.proItem}>\n    //         <div>演练库数据迁移</div>\n    //         <div style={{ color: '#0070cc' }}><Icon type=\"loading\" size=\"xs\" /> 迁移中</div>\n    //       </div>\n    //     </div>\n    //   );\n    // };\n\n\n    var renderStepContent = function renderStepContent(items) {\n      return /*#__PURE__*/_react[\"default\"].createElement(\"div\", null, items === null || items === void 0 ? void 0 : items.map(function (temp, index) {\n        var name = temp.name,\n            status = temp.status,\n            type = temp.type;\n        var statusInfo = statusConf[status] || {};\n        return /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n          className: _index[\"default\"].proItem,\n          key: index\n        }, /*#__PURE__*/_react[\"default\"].createElement(\"div\", null, name), /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n          style: {\n            color: statusInfo.color\n          }\n        }, /*#__PURE__*/_react[\"default\"].createElement(_icon[\"default\"], {\n          type: statusInfo.icon,\n          size: \"xs\"\n        }), \" \", statusInfo.name, status === 'FAILED' && /*#__PURE__*/_react[\"default\"].createElement(_button[\"default\"], {\n          type: \"primary\",\n          text: true,\n          style: {\n            marginLeft: 8\n          },\n          size: \"small\",\n          onClick: function onClick() {\n            return onRetry(type);\n          }\n        }, /*#__PURE__*/_react[\"default\"].createElement(_Translation[\"default\"], null, \"Retry\"))));\n      }));\n    };\n\n    return /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n      className: _index[\"default\"].progress\n    }, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n      className: _index[\"default\"].tips\n    }, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n      className: _index[\"default\"].pHeader\n    }, currStatus === 'FAILED' && _i18n[\"default\"].t('Data migration failed').toString() || _i18n[\"default\"].t('Data migration').toString()), /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n      className: _index[\"default\"].desp\n    }, /*#__PURE__*/_react[\"default\"].createElement(_Translation[\"default\"], null, \"Data migration takes a long time, please be patient\")), /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n      className: _index[\"default\"].error\n    }, /*#__PURE__*/_react[\"default\"].createElement(_Translation[\"default\"], null, \"If the migration process fails, you can click to retry, or contact the system administrator\")), /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n      className: _index[\"default\"].error\n    }, /*#__PURE__*/_react[\"default\"].createElement(_Translation[\"default\"], null, \"Probe migration, only for host probes, k8s probes should be manually replaced with public cloud probes to prevent data migration failure\"))), /*#__PURE__*/_react[\"default\"].createElement(_step[\"default\"], {\n      direction: \"ver\",\n      shape: \"dot\"\n    }, progress === null || progress === void 0 ? void 0 : progress.map(function (item, index) {\n      console.log(item, index);\n      var name = item.name,\n          items = item.items;\n      return /*#__PURE__*/_react[\"default\"].createElement(_step[\"default\"].Item, {\n        status: 'process',\n        key: index,\n        title: name,\n        content: renderStepContent(items)\n      });\n    })));\n  };\n\n  var _default = /*#__PURE__*/(0, _react.memo)(Index);\n\n  _exports[\"default\"] = _default;\n});\n\n/***/ }),\n\n/***/ 96209:\n/***/ (function(module, exports, __webpack_require__) {\n\nvar __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var _typeof = __webpack_require__(24596);\n\nvar _Object$defineProperty = __webpack_require__(67394);\n\nvar _WeakMap = __webpack_require__(93168);\n\nvar _Object$getOwnPropertyDescriptor = __webpack_require__(23587);\n\nvar _Object$keys = __webpack_require__(83452);\n\nvar _Object$getOwnPropertySymbols = __webpack_require__(95315);\n\nvar _Object$getOwnPropertyDescriptors = __webpack_require__(63774);\n\nvar _Object$defineProperties = __webpack_require__(92937);\n\n(function (global, factory) {\n  if (true) {\n    !(__WEBPACK_AMD_DEFINE_ARRAY__ = [exports, __webpack_require__(72153), __webpack_require__(79566), __webpack_require__(57379), __webpack_require__(17534), __webpack_require__(77809), __webpack_require__(81853), __webpack_require__(27378), __webpack_require__(66697), __webpack_require__(14798), __webpack_require__(84014), __webpack_require__(14870), __webpack_require__(64287), __webpack_require__(4075)], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory),\n\t\t__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?\n\t\t(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),\n\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n  } else { var mod; }\n})(typeof globalThis !== \"undefined\" ? globalThis : typeof self !== \"undefined\" ? self : this, function (_exports, _button, _checkbox, _defineProperty2, _message, _asyncToGenerator2, _slicedToArray2, _react, _Translation, _i18n, _index, _sreUtilsDva, _CloudForm, _DBForm) {\n  \"use strict\";\n\n  var _interopRequireDefault = __webpack_require__(67971);\n\n  _Object$defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n\n  _exports[\"default\"] = void 0;\n  _button = _interopRequireDefault(_button);\n  _checkbox = _interopRequireDefault(_checkbox);\n  _defineProperty2 = _interopRequireDefault(_defineProperty2);\n  _message = _interopRequireDefault(_message);\n  _asyncToGenerator2 = _interopRequireDefault(_asyncToGenerator2);\n  _slicedToArray2 = _interopRequireDefault(_slicedToArray2);\n  _react = _interopRequireWildcard(_react);\n  _Translation = _interopRequireDefault(_Translation);\n  _i18n = _interopRequireDefault(_i18n);\n  _index = _interopRequireDefault(_index);\n  _CloudForm = _interopRequireDefault(_CloudForm);\n  _DBForm = _interopRequireDefault(_DBForm);\n\n  function _getRequireWildcardCache(nodeInterop) { if (typeof _WeakMap !== \"function\") return null; var cacheBabelInterop = new _WeakMap(); var cacheNodeInterop = new _WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\n  function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { \"default\": obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = _Object$defineProperty && _Object$getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? _Object$getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { _Object$defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj[\"default\"] = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\n  function ownKeys(object, enumerableOnly) { var keys = _Object$keys(object); if (_Object$getOwnPropertySymbols) { var symbols = _Object$getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return _Object$getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\n  function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { (0, _defineProperty2[\"default\"])(target, key, source[key]); }) : _Object$getOwnPropertyDescriptors ? _Object$defineProperties(target, _Object$getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { _Object$defineProperty(target, key, _Object$getOwnPropertyDescriptor(source, key)); }); } return target; }\n\n  var Setting = function Setting(props) {\n    var onChangeStep = props.onChangeStep;\n    var dispatch = (0, _sreUtilsDva.useDispatch)();\n\n    var _useState = (0, _react.useState)({\n      cloudInfo: null,\n      dbInfo: null,\n      experiment_flag: false,\n      expertise_flag: false\n    }),\n        _useState2 = (0, _slicedToArray2[\"default\"])(_useState, 2),\n        configInfo = _useState2[0],\n        setConfigInfo = _useState2[1];\n\n    var _useState3 = (0, _react.useState)(false),\n        _useState4 = (0, _slicedToArray2[\"default\"])(_useState3, 2),\n        loading = _useState4[0],\n        setLoading = _useState4[1]; // useEffect(() => {\n    //   getConf();\n    // }, []);\n    // const getConf = async () => {\n    //   const res = await dispatch.migration.getMigrationConf();\n    //   if (res) {\n    //     const info = {\n    //       cloudInfo: {\n    //         account: res.cloudAk,\n    //         password: res.cloudSk,\n    //       },\n    //       dbInfo: {\n    //         account: res.dbAccount,\n    //         password: res.dbPassword,\n    //         host: res.dbHost,\n    //         port: res.dbPort,\n    //       },\n    //       experiment_flag: res.experimentFlag,\n    //       expertise_flag: res.expertiseFlag,\n    //     };\n    //     setConfigInfo(info);\n    //   } else {\n    //     Message.error(i18n.t('Failed to get configuration information'));\n    //   }\n    // };\n\n\n    var onSubmit = /*#__PURE__*/function () {\n      var _ref = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n        var _ref2, cloudInfo, dbInfo, experiment_flag, expertise_flag, params, res, _res;\n\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _ref2 = configInfo || {}, cloudInfo = _ref2.cloudInfo, dbInfo = _ref2.dbInfo, experiment_flag = _ref2.experiment_flag, expertise_flag = _ref2.expertise_flag;\n\n                if (!(cloudInfo === null)) {\n                  _context.next = 3;\n                  break;\n                }\n\n                return _context.abrupt(\"return\", _message[\"default\"].error(_i18n[\"default\"].t('Please fill in the public cloud account')));\n\n              case 3:\n                if (cloudInfo) {\n                  _context.next = 5;\n                  break;\n                }\n\n                return _context.abrupt(\"return\", _message[\"default\"].error(_i18n[\"default\"].t('Public cloud account verification failed')));\n\n              case 5:\n                if (!(!experiment_flag && !expertise_flag)) {\n                  _context.next = 7;\n                  break;\n                }\n\n                return _context.abrupt(\"return\", _message[\"default\"].error(_i18n[\"default\"].t('Please select a migration option')));\n\n              case 7:\n                if (!(!dbInfo === null)) {\n                  _context.next = 9;\n                  break;\n                }\n\n                return _context.abrupt(\"return\", _message[\"default\"].error(_i18n[\"default\"].t('Please fill in Mysql configuration')));\n\n              case 9:\n                if (dbInfo.hasOwnProperty('pass')) {\n                  _context.next = 11;\n                  break;\n                }\n\n                return _context.abrupt(\"return\", _message[\"default\"].error(_i18n[\"default\"].t('Please fill in Mysql and verify the configuration')));\n\n              case 11:\n                if (dbInfo !== null && dbInfo !== void 0 && dbInfo.pass) {\n                  _context.next = 13;\n                  break;\n                }\n\n                return _context.abrupt(\"return\", _message[\"default\"].error(_i18n[\"default\"].t('Mysql configuration verification failed')));\n\n              case 13:\n                params = {\n                  cloud_account: cloudInfo.account,\n                  cloud_password: cloudInfo.password,\n                  experiment_flag: experiment_flag,\n                  expertise_flag: expertise_flag,\n                  db_account: dbInfo.account,\n                  db_password: dbInfo.password,\n                  db_host: dbInfo.host,\n                  db_port: dbInfo.port\n                };\n                setLoading(true);\n                _context.next = 17;\n                return dispatch.migration.saveMigrationConf(params);\n\n              case 17:\n                res = _context.sent;\n\n                if (!res) {\n                  _context.next = 25;\n                  break;\n                }\n\n                _context.next = 21;\n                return dispatch.migration.startMigration({\n                  migration_flag: ''\n                });\n\n              case 21:\n                _res = _context.sent;\n\n                if (_res) {\n                  _message[\"default\"].success(_i18n[\"default\"].t('Configuration data saved successfully, start migration'));\n\n                  onChangeStep(1);\n                  setLoading(false);\n                } else {\n                  _message[\"default\"].error(_i18n[\"default\"].t('Migration failed'));\n\n                  setLoading(false);\n                }\n\n                _context.next = 27;\n                break;\n\n              case 25:\n                _message[\"default\"].error(_i18n[\"default\"].t('Failed to save configuration data'));\n\n                setLoading(false);\n\n              case 27:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      return function onSubmit() {\n        return _ref.apply(this, arguments);\n      };\n    }();\n\n    return /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n      className: _index[\"default\"].setting\n    }, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n      className: _index[\"default\"].header\n    }, /*#__PURE__*/_react[\"default\"].createElement(_Translation[\"default\"], null, \"Public cloud account AK/SK binding\"), /*#__PURE__*/_react[\"default\"].createElement(\"span\", {\n      style: {\n        fontSize: 12,\n        color: '#666',\n        marginLeft: 8,\n        fontWeight: 400\n      }\n    }, /*#__PURE__*/_react[\"default\"].createElement(_Translation[\"default\"], null, \"No account\"), \"\\uFF0C\", /*#__PURE__*/_react[\"default\"].createElement(\"a\", {\n      style: {\n        color: '#0070cc'\n      },\n      href: \"https://account.aliyun.com/register/register.htm\",\n      target: \"_blank\"\n    }, /*#__PURE__*/_react[\"default\"].createElement(_Translation[\"default\"], null, \"Sign up now\")))), /*#__PURE__*/_react[\"default\"].createElement(_CloudForm[\"default\"], {\n      info: configInfo.cloudInfo,\n      onChange: function onChange(params) {\n        return setConfigInfo(_objectSpread(_objectSpread({}, configInfo), {}, {\n          cloudInfo: params\n        }));\n      }\n    }), /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n      className: _index[\"default\"].header\n    }, /*#__PURE__*/_react[\"default\"].createElement(_Translation[\"default\"], null, \"Migration options\")), /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n      className: _index[\"default\"].content\n    }, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n      className: _index[\"default\"].formItem\n    }, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n      className: _index[\"default\"].label\n    }, /*#__PURE__*/_react[\"default\"].createElement(_Translation[\"default\"], null, \"Migrate drill data\")), /*#__PURE__*/_react[\"default\"].createElement(_checkbox[\"default\"], {\n      checked: configInfo.experiment_flag,\n      onChange: function onChange(checked) {\n        return setConfigInfo(_objectSpread(_objectSpread({}, configInfo), {}, {\n          experiment_flag: checked\n        }));\n      }\n    }))), (configInfo.experiment_flag || configInfo.expertise_flag) && /*#__PURE__*/_react[\"default\"].createElement(_react[\"default\"].Fragment, null, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n      className: _index[\"default\"].header\n    }, /*#__PURE__*/_react[\"default\"].createElement(_Translation[\"default\"], null, \"Mysql configuration\")), /*#__PURE__*/_react[\"default\"].createElement(_DBForm[\"default\"], {\n      info: configInfo.dbInfo,\n      onChange: function onChange(params) {\n        return setConfigInfo(_objectSpread(_objectSpread({}, configInfo), {}, {\n          dbInfo: params\n        }));\n      }\n    })), /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n      style: {\n        textAlign: 'center'\n      }\n    }, /*#__PURE__*/_react[\"default\"].createElement(_button[\"default\"], {\n      type: \"primary\",\n      loading: loading,\n      onClick: function onClick() {\n        return onSubmit();\n      }\n    }, /*#__PURE__*/_react[\"default\"].createElement(_Translation[\"default\"], null, \"Determining Migration Data\"))));\n  };\n\n  var _default = /*#__PURE__*/(0, _react.memo)(Setting);\n\n  _exports[\"default\"] = _default;\n});\n\n/***/ }),\n\n/***/ 752:\n/***/ (function(module, exports, __webpack_require__) {\n\nvar __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var _typeof = __webpack_require__(24596);\n\nvar _Object$defineProperty = __webpack_require__(67394);\n\nvar _WeakMap = __webpack_require__(93168);\n\nvar _Object$getOwnPropertyDescriptor = __webpack_require__(23587);\n\n(function (global, factory) {\n  if (true) {\n    !(__WEBPACK_AMD_DEFINE_ARRAY__ = [exports, __webpack_require__(9863), __webpack_require__(91714), __webpack_require__(77809), __webpack_require__(81853), __webpack_require__(27378), __webpack_require__(14798), __webpack_require__(96291), __webpack_require__(14870), __webpack_require__(56870), __webpack_require__(50388), __webpack_require__(96209)], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory),\n\t\t__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?\n\t\t(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),\n\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n  } else { var mod; }\n})(typeof globalThis !== \"undefined\" ? globalThis : typeof self !== \"undefined\" ? self : this, function (_exports, _loading, _step, _asyncToGenerator2, _slicedToArray2, _react, _i18n, _chaos, _sreUtilsDva, _Finish, _Progress, _Setting) {\n  \"use strict\";\n\n  var _interopRequireDefault = __webpack_require__(67971);\n\n  _Object$defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n\n  _exports[\"default\"] = void 0;\n  _loading = _interopRequireDefault(_loading);\n  _step = _interopRequireDefault(_step);\n  _asyncToGenerator2 = _interopRequireDefault(_asyncToGenerator2);\n  _slicedToArray2 = _interopRequireDefault(_slicedToArray2);\n  _react = _interopRequireWildcard(_react);\n  _i18n = _interopRequireDefault(_i18n);\n  _Finish = _interopRequireDefault(_Finish);\n  _Progress = _interopRequireDefault(_Progress);\n  _Setting = _interopRequireDefault(_Setting);\n\n  function _getRequireWildcardCache(nodeInterop) { if (typeof _WeakMap !== \"function\") return null; var cacheBabelInterop = new _WeakMap(); var cacheNodeInterop = new _WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\n  function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { \"default\": obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = _Object$defineProperty && _Object$getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? _Object$getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { _Object$defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj[\"default\"] = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\n  var stepLs = [_i18n[\"default\"].t('Account Configuration'), _i18n[\"default\"].t('Data Migration'), _i18n[\"default\"].t('Migration Results')];\n\n  var Index = function Index() {\n    var dispatch = (0, _sreUtilsDva.useDispatch)();\n\n    var _useState = (0, _react.useState)(false),\n        _useState2 = (0, _slicedToArray2[\"default\"])(_useState, 2),\n        loading = _useState2[0],\n        setLoading = _useState2[1];\n\n    var _useState3 = (0, _react.useState)(0),\n        _useState4 = (0, _slicedToArray2[\"default\"])(_useState3, 2),\n        currStep = _useState4[0],\n        setCurrStep = _useState4[1];\n\n    (0, _react.useEffect)(function () {\n      dispatch.pageHeader.setTitle(_i18n[\"default\"].t('Data Migration').toString());\n      dispatch.pageHeader.setBreadCrumbItems(_chaos.CHAOS_DEFAULT_BREADCRUMB_ITEM.concat([// 修改面包屑\n      {\n        key: 'migration',\n        value: _i18n[\"default\"].t('Data Migration').toString(),\n        path: ''\n      }]));\n      getData();\n    }, []);\n\n    var getData = /*#__PURE__*/function () {\n      var _ref = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n        var res;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                setLoading(true);\n                _context.next = 3;\n                return dispatch.migration.queryMigrationResult({\n                  migration_flag: ''\n                });\n\n              case 3:\n                res = _context.sent;\n\n                if ((res === null || res === void 0 ? void 0 : res.status) === 'RUNNING') {\n                  setCurrStep(1);\n                }\n\n                if ((res === null || res === void 0 ? void 0 : res.status) === 'FAILED') {\n                  setCurrStep(1);\n                }\n\n                setLoading(false);\n\n              case 7:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      return function getData() {\n        return _ref.apply(this, arguments);\n      };\n    }();\n\n    var renderContent = (0, _react.useMemo)(function () {\n      if (currStep === 2) {\n        return /*#__PURE__*/_react[\"default\"].createElement(_Finish[\"default\"], null);\n      } else if (currStep === 1) {\n        return /*#__PURE__*/_react[\"default\"].createElement(_Progress[\"default\"], {\n          onChangeStep: function onChangeStep(step) {\n            return setCurrStep(step);\n          }\n        });\n      }\n\n      return /*#__PURE__*/_react[\"default\"].createElement(_Setting[\"default\"], {\n        onChangeStep: function onChangeStep(step) {\n          return setCurrStep(step);\n        }\n      });\n    }, [currStep]);\n    return /*#__PURE__*/_react[\"default\"].createElement(_loading[\"default\"], {\n      visible: loading,\n      tip: _i18n[\"default\"].t('Loading data, please wait').toString(),\n      style: {\n        display: 'block',\n        minHeight: '420px'\n      }\n    }, /*#__PURE__*/_react[\"default\"].createElement(_step[\"default\"], {\n      current: currStep,\n      shape: \"circle\"\n    }, stepLs.map(function (item, index) {\n      return /*#__PURE__*/_react[\"default\"].createElement(_step[\"default\"].Item, {\n        key: index,\n        title: item\n      });\n    })), /*#__PURE__*/_react[\"default\"].createElement(\"br\", null), /*#__PURE__*/_react[\"default\"].createElement(\"br\", null), renderContent);\n  };\n\n  var _default = /*#__PURE__*/(0, _react.memo)(Index);\n\n  _exports[\"default\"] = _default;\n});\n\n/***/ }),\n\n/***/ 5045:\n/***/ ((module, __webpack_exports__, __webpack_require__) => {\n\n\"use strict\";\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Z\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(60994);\n/* harmony import */ var _node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(93476);\n/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__);\n// Imports\n\n\nvar ___CSS_LOADER_EXPORT___ = _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default()((_node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0___default()));\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".index__setting__h3o\\\\+o, .index__progress__jkye-, .index__finish__OCpoF {\\n  width: 790px;\\n  margin: 32px auto;\\n}\\n\\n  .index__setting__h3o\\\\+o .index__header__MMIV-, .index__progress__jkye- .index__header__MMIV-, .index__finish__OCpoF .index__header__MMIV- {\\n    font-size: 14px;\\n    margin-bottom: 16px;\\n    font-weight: bold;\\n    background: #f1f1f1;\\n    padding: 8px 16px;\\n    border-left: 4px solid #f5f5f5;\\n  }\\n\\n  .index__setting__h3o\\\\+o .index__content__ipaLF, .index__progress__jkye- .index__content__ipaLF, .index__finish__OCpoF .index__content__ipaLF {\\n    margin: 16px;\\n    margin-bottom: 32px;\\n  }\\n\\n  .index__setting__h3o\\\\+o .index__formItem__yR35c, .index__progress__jkye- .index__formItem__yR35c, .index__finish__OCpoF .index__formItem__yR35c {\\n    margin-bottom: 16px;\\n    display: flex;\\n    align-items: center;\\n  }\\n\\n  .index__setting__h3o\\\\+o .index__formItem__yR35c .index__label__aqhCL, .index__progress__jkye- .index__formItem__yR35c .index__label__aqhCL, .index__finish__OCpoF .index__formItem__yR35c .index__label__aqhCL {\\n      width: 90px;\\n      text-align: right;\\n      margin-right: 8px;\\n    }\\n\\n  .index__setting__h3o\\\\+o .index__formItem__yR35c .index__label__aqhCL::after, .index__progress__jkye- .index__formItem__yR35c .index__label__aqhCL::after, .index__finish__OCpoF .index__formItem__yR35c .index__label__aqhCL::after {\\n        content: ': ';\\n      }\\n\\n  .index__setting__h3o\\\\+o .index__tips__jBrsl, .index__progress__jkye- .index__tips__jBrsl, .index__finish__OCpoF .index__tips__jBrsl {\\n    background: #f5f5f5;\\n    padding: 16px;\\n    margin-bottom: 32px;\\n  }\\n\\n  .index__setting__h3o\\\\+o .index__tips__jBrsl > div, .index__progress__jkye- .index__tips__jBrsl > div, .index__finish__OCpoF .index__tips__jBrsl > div {\\n      text-align: center;\\n    }\\n\\n  .index__setting__h3o\\\\+o .index__tips__jBrsl .index__pHeader__pnYf7, .index__progress__jkye- .index__tips__jBrsl .index__pHeader__pnYf7, .index__finish__OCpoF .index__tips__jBrsl .index__pHeader__pnYf7 {\\n      font-size: 16px;\\n      font-weight: bold;\\n    }\\n\\n  .index__setting__h3o\\\\+o .index__tips__jBrsl .index__desp__wGmgr, .index__progress__jkye- .index__tips__jBrsl .index__desp__wGmgr, .index__finish__OCpoF .index__tips__jBrsl .index__desp__wGmgr {\\n      color: #333;\\n      margin: 10px 0 6px;\\n    }\\n\\n  .index__setting__h3o\\\\+o .index__tips__jBrsl .index__error__WCUTa, .index__progress__jkye- .index__tips__jBrsl .index__error__WCUTa, .index__finish__OCpoF .index__tips__jBrsl .index__error__WCUTa {\\n      color: red;\\n    }\\n\\n  .index__setting__h3o\\\\+o .index__proItem__LQwvx, .index__progress__jkye- .index__proItem__LQwvx, .index__finish__OCpoF .index__proItem__LQwvx {\\n    display: flex;\\n    justify-content: space-between;\\n    padding-right: 32px;\\n    margin-bottom: 16px;\\n    color: #333;\\n  }\\n\", \"\",{\"version\":3,\"sources\":[\"webpack://./pages/Chaos/Migration/index.css\"],\"names\":[],\"mappings\":\"AAAA;EACE,YAAY;EACZ,iBAAiB;AAsDnB;;EApDE;IACE,eAAe;IACf,mBAAmB;IACnB,iBAAiB;IACjB,mBAAmB;IACnB,iBAAiB;IACjB,8BAA8B;EAChC;;EACA;IACE,YAAY;IACZ,mBAAmB;EACrB;;EACA;IACE,mBAAmB;IACnB,aAAa;IACb,mBAAmB;EAUrB;;EARE;MACE,WAAW;MACX,iBAAiB;MACjB,iBAAiB;IAInB;;EAHE;QACE,aAAa;MACf;;EAGJ;IACE,mBAAmB;IACnB,aAAa;IACb,mBAAmB;EAerB;;EAdE;MACE,kBAAkB;IACpB;;EACA;MACE,eAAe;MACf,iBAAiB;IACnB;;EACA;MACE,WAAW;MACX,kBAAkB;IACpB;;EACA;MACE,UAAU;IACZ;;EAEF;IACE,aAAa;IACb,8BAA8B;IAC9B,mBAAmB;IACnB,mBAAmB;IACnB,WAAW;EACb\",\"sourcesContent\":[\".setting, .progress, .finish {\\n  width: 790px;\\n  margin: 32px auto;\\n\\n  .header {\\n    font-size: 14px;\\n    margin-bottom: 16px;\\n    font-weight: bold;\\n    background: #f1f1f1;\\n    padding: 8px 16px;\\n    border-left: 4px solid #f5f5f5;\\n  }\\n  .content {\\n    margin: 16px;\\n    margin-bottom: 32px;\\n  }\\n  .formItem {\\n    margin-bottom: 16px;\\n    display: flex;\\n    align-items: center;\\n\\n    .label {\\n      width: 90px;\\n      text-align: right;\\n      margin-right: 8px;\\n      &::after {\\n        content: ': ';\\n      }\\n    }\\n  }\\n  .tips {\\n    background: #f5f5f5;\\n    padding: 16px;\\n    margin-bottom: 32px;\\n    > div {\\n      text-align: center;\\n    }\\n    .pHeader {\\n      font-size: 16px;\\n      font-weight: bold;\\n    }\\n    .desp {\\n      color: #333;\\n      margin: 10px 0 6px;\\n    }\\n    .error {\\n      color: red;\\n    }\\n  }\\n  .proItem {\\n    display: flex;\\n    justify-content: space-between;\\n    padding-right: 32px;\\n    margin-bottom: 16px;\\n    color: #333;\\n  }\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\n___CSS_LOADER_EXPORT___.locals = {\n\t\"setting\": \"index__setting__h3o+o\",\n\t\"progress\": \"index__progress__jkye-\",\n\t\"finish\": \"index__finish__OCpoF\",\n\t\"header\": \"index__header__MMIV-\",\n\t\"content\": \"index__content__ipaLF\",\n\t\"formItem\": \"index__formItem__yR35c\",\n\t\"label\": \"index__label__aqhCL\",\n\t\"tips\": \"index__tips__jBrsl\",\n\t\"pHeader\": \"index__pHeader__pnYf7\",\n\t\"desp\": \"index__desp__wGmgr\",\n\t\"error\": \"index__error__WCUTa\",\n\t\"proItem\": \"index__proItem__LQwvx\"\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (___CSS_LOADER_EXPORT___);\n\n\n/***/ }),\n\n/***/ 84014:\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(1892);\n/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _node_modules_css_modules_typescript_loader_index_js_node_modules_css_loader_dist_cjs_js_ruleSet_1_rules_0_oneOf_3_use_2_node_modules_postcss_loader_dist_cjs_js_index_css_css_modules__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(5045);\n\n            \n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default()(_node_modules_css_modules_typescript_loader_index_js_node_modules_css_loader_dist_cjs_js_ruleSet_1_rules_0_oneOf_3_use_2_node_modules_postcss_loader_dist_cjs_js_index_css_css_modules__WEBPACK_IMPORTED_MODULE_1__/* [\"default\"] */ .Z, options);\n\n\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_node_modules_css_modules_typescript_loader_index_js_node_modules_css_loader_dist_cjs_js_ruleSet_1_rules_0_oneOf_3_use_2_node_modules_postcss_loader_dist_cjs_js_index_css_css_modules__WEBPACK_IMPORTED_MODULE_1__/* [\"default\"].locals */ .Z.locals || {});\n\n/***/ })\n\n}]);"],"mappings":"AAAA;AAmpCA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;","sourceRoot":""}