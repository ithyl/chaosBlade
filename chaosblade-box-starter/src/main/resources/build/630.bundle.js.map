{"version":3,"file":"630.bundle.js","sources":["../630.bundle.js"],"sourcesContent":["(self[\"webpackChunk\"] = self[\"webpackChunk\"] || []).push([[630],{\n\n/***/ 93484:\n/***/ (function(__unused_webpack_module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nvar next_1 = __webpack_require__(30156);\nvar withThemeClass_1 = __webpack_require__(46949);\nvar react_1 = __importDefault(__webpack_require__(27378));\nvar useCssVar_1 = __webpack_require__(67056);\nvar Pagination = (function (props) {\n    var theme = useCssVar_1.useCssVar('--alicloudfe-components-theme').trim();\n    // 混合云云效主题默认不显示下一页\n    var shape = (function () {\n        if (theme.startsWith('hybridcloud') || theme.startsWith('yunxiao')) {\n            return 'arrow-only';\n        }\n        return 'normal';\n    })();\n    return react_1.default.createElement(next_1.Pagination, __assign({ shape: shape }, props));\n});\nexports[\"default\"] = withThemeClass_1.withThemeClass(Pagination);\n\n\n/***/ }),\n\n/***/ 94188:\n/***/ (function(__unused_webpack_module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __spreadArrays = (this && this.__spreadArrays) || function () {\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\n            r[k] = a[j];\n    return r;\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nvar next_1 = __webpack_require__(30156);\nvar react_1 = __importStar(__webpack_require__(27378));\nvar classnames_1 = __importDefault(__webpack_require__(60042));\nvar popupHoc_1 = __importStar(__webpack_require__(1073));\nvar Search = react_1.default.forwardRef(function (props, ref) {\n    var _a = react_1.useState(false), focus = _a[0], setFocus = _a[1];\n    var _b = react_1.useState(false), visible = _b[0], setVisible = _b[1];\n    var onFocus = react_1.useCallback(function (e) {\n        setFocus(true);\n        if (typeof props.onFocus === 'function') {\n            props.onFocus(e);\n        }\n    }, [props.onFocus]);\n    var onBlur = react_1.useCallback(function (e) {\n        setFocus(false);\n        if (typeof props.onBlur === 'function') {\n            props.onBlur(e);\n        }\n    }, [props.onBlur]);\n    var onVisibleChange = react_1.useCallback(function (v) {\n        var rest = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            rest[_i - 1] = arguments[_i];\n        }\n        setVisible(v);\n        if (typeof props.onVisibleChange === 'function') {\n            // @ts-ignore\n            props.onVisibleChange.apply(props, __spreadArrays([v], rest));\n        }\n    }, [props.onVisibleChange]);\n    // Search filter也是个选择器，要设置它的弹层offset\n    var defaultOffsetY = popupHoc_1.useDefaultOffsetY();\n    var filterProps = react_1.useMemo(function () {\n        var _a;\n        var popupProps = __assign({ align: 'tl bl', offset: [0, defaultOffsetY] }, (_a = props.filterProps) === null || _a === void 0 ? void 0 : _a.popupProps);\n        var filterProps = __assign(__assign({}, props.filterProps), { popupProps: popupProps });\n        return filterProps;\n    }, [defaultOffsetY, props.filterProps]);\n    return (react_1.default.createElement(next_1.Search, __assign({}, props, { ref: ref, onFocus: onFocus, onBlur: onBlur, onVisibleChange: onVisibleChange, className: classnames_1.default(props.className, \n        // 根据当前状态增加类名，用来做样式覆盖\n        props.searchText ? 'custom-search-text' : null, focus ? 'focusing' : false, visible ? 'visible' : false, props.disabled ? 'disabled' : false, props.searchText ? null : 'next-search-no-custom-search-text'), filterProps: filterProps })));\n});\nexports[\"default\"] = popupHoc_1.default(Search);\n\n\n/***/ }),\n\n/***/ 47630:\n/***/ (function(module, exports, __webpack_require__) {\n\nvar __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var _typeof = __webpack_require__(24596);\n\nvar _Object$defineProperty = __webpack_require__(67394);\n\nvar _WeakMap = __webpack_require__(93168);\n\nvar _Object$getOwnPropertyDescriptor = __webpack_require__(23587);\n\n(function (global, factory) {\n  if (true) {\n    !(__WEBPACK_AMD_DEFINE_ARRAY__ = [exports, __webpack_require__(93484), __webpack_require__(77809), __webpack_require__(81853), __webpack_require__(27378), __webpack_require__(66697), __webpack_require__(98784), __webpack_require__(60042), __webpack_require__(68055), __webpack_require__(73641), __webpack_require__(14870)], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory),\n\t\t__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?\n\t\t(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),\n\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n  } else { var mod; }\n})(typeof globalThis !== \"undefined\" ? globalThis : typeof self !== \"undefined\" ? self : this, function (_exports, _pagination, _asyncToGenerator2, _slicedToArray2, _react, _Translation, _lodash, _classnames, _locale, _index, _sreUtilsDva) {\n  \"use strict\";\n\n  var _interopRequireDefault = __webpack_require__(67971);\n\n  _Object$defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n\n  _exports[\"default\"] = functionsList;\n  _pagination = _interopRequireDefault(_pagination);\n  _asyncToGenerator2 = _interopRequireDefault(_asyncToGenerator2);\n  _slicedToArray2 = _interopRequireDefault(_slicedToArray2);\n  _react = _interopRequireWildcard(_react);\n  _Translation = _interopRequireDefault(_Translation);\n  _lodash = _interopRequireDefault(_lodash);\n  _classnames = _interopRequireDefault(_classnames);\n  _locale = _interopRequireDefault(_locale);\n  _index = _interopRequireDefault(_index);\n\n  function _getRequireWildcardCache(nodeInterop) { if (typeof _WeakMap !== \"function\") return null; var cacheBabelInterop = new _WeakMap(); var cacheNodeInterop = new _WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\n  function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { \"default\": obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = _Object$defineProperty && _Object$getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? _Object$getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { _Object$defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj[\"default\"] = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\n  function functionsList(props) {\n    var onSelected = props.onSelected,\n        seletedFun = props.seletedFun,\n        searchKey = props.searchKey,\n        selTabs = props.selTabs,\n        scopeType = props.scopeType;\n    var dispatch = (0, _sreUtilsDva.useDispatch)();\n\n    var _useState = (0, _react.useState)(16),\n        _useState2 = (0, _slicedToArray2[\"default\"])(_useState, 2),\n        pageSize = _useState2[0],\n        setPageSize = _useState2[1];\n\n    var _useState3 = (0, _react.useState)(0),\n        _useState4 = (0, _slicedToArray2[\"default\"])(_useState3, 2),\n        total = _useState4[0],\n        setTotal = _useState4[1];\n\n    var _useState5 = (0, _react.useState)(1),\n        _useState6 = (0, _slicedToArray2[\"default\"])(_useState5, 2),\n        page = _useState6[0],\n        setPage = _useState6[1];\n\n    var _useState7 = (0, _react.useState)([]),\n        _useState8 = (0, _slicedToArray2[\"default\"])(_useState7, 2),\n        functions = _useState8[0],\n        setFunctions = _useState8[1];\n\n    var seletStyle = _index[\"default\"].seleted;\n    var seletedCard = _index[\"default\"].seletedCard;\n    var noSelected = _index[\"default\"].Card;\n    (0, _react.useEffect)(function () {\n      if (searchKey) {\n        (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n          return regeneratorRuntime.wrap(function _callee$(_context) {\n            while (1) {\n              switch (_context.prev = _context.next) {\n                case 0:\n                  _context.next = 2;\n                  return dispatch.experimentScene.searchFunctions({\n                    key: searchKey,\n                    phase: 1 << 1,\n                    // eslint-disable-line no-bitwise,\n                    page: page,\n                    scopeType: scopeType,\n                    k8sResourceType: 0,\n                    size: pageSize\n                  }, function (_ref2) {\n                    var _ref2$data = _ref2.data,\n                        funcs = _ref2$data === void 0 ? [] : _ref2$data,\n                        total = _ref2.total,\n                        pageSize = _ref2.pageSize;\n\n                    if (searchKey) {\n                      setFunctions(funcs);\n                      setTotal(total);\n                      setPageSize(pageSize);\n                    }\n                  });\n\n                case 2:\n                case \"end\":\n                  return _context.stop();\n              }\n            }\n          }, _callee);\n        }))();\n      }\n    }, [searchKey, page]);\n    (0, _react.useEffect)(function () {\n      var categoryId = selTabs === null || selTabs === void 0 ? void 0 : selTabs[1];\n\n      if (!categoryId) {\n        return;\n      }\n\n      (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/regeneratorRuntime.mark(function _callee2() {\n        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.next = 2;\n                return dispatch.experimentScene.getFunctionsByCategoryId({\n                  page: page,\n                  categoryId: categoryId,\n                  phase: 1 << 1,\n                  // eslint-disable-line no-bitwise\n                  scopeType: scopeType,\n                  size: pageSize,\n                  k8sResourceType: 0\n                }, function (data) {\n                  if (data) {\n                    if (categoryId) {\n                      var funcs = data.data,\n                          _total = data.total,\n                          _pageSize = data.pageSize;\n                      setTotal(_total);\n                      setPageSize(_pageSize);\n                      setFunctions(funcs);\n                    }\n                  }\n                });\n\n              case 2:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2);\n      }))();\n    }, [selTabs, page]);\n    (0, _react.useEffect)(function () {\n      if (!_lodash[\"default\"].isEmpty(functions)) {\n        onSelected(functions[0]);\n        return;\n      }\n\n      onSelected(null);\n    }, [functions]);\n\n    function handleSelectFun(fun) {\n      onSelected(fun);\n    }\n\n    function isSelectStyle(fun) {\n      if ((seletedFun === null || seletedFun === void 0 ? void 0 : seletedFun.functionId) === fun.functionId) {\n        return seletedCard;\n      }\n\n      return noSelected;\n    }\n\n    return /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n      className: _index[\"default\"].funContent\n    }, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n      className: _index[\"default\"].funList\n    }, !_lodash[\"default\"].isEmpty(functions) ? _lodash[\"default\"].map(functions, function (fun) {\n      return /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n        key: fun.functionId,\n        className: (0, _classnames[\"default\"])(_index[\"default\"].listCard, isSelectStyle(fun)),\n        onClick: function onClick() {\n          return handleSelectFun(fun);\n        }\n      }, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n        className: (seletedFun === null || seletedFun === void 0 ? void 0 : seletedFun.functionId) === fun.functionId ? seletStyle : _index[\"default\"].radio\n      }, (seletedFun === null || seletedFun === void 0 ? void 0 : seletedFun.functionId) === fun.functionId && /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n        className: _index[\"default\"].selectedCon\n      })), /*#__PURE__*/_react[\"default\"].createElement(\"span\", null, fun && fun.name));\n    }) : /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n      className: _index[\"default\"].noDate\n    }, /*#__PURE__*/_react[\"default\"].createElement(\"img\", {\n      src: \"https://img.alicdn.com/imgextra/i3/O1CN01H4HfE81gkUDbZQBkD_!!6000000004180-55-tps-98-64.svg\",\n      alt: \"\",\n      style: {\n        marginLeft: 35\n      }\n    }), /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n      style: {\n        marginTop: 16\n      }\n    }, /*#__PURE__*/_react[\"default\"].createElement(_Translation[\"default\"], null, \"There is no scene in the current category, please select again\")))), /*#__PURE__*/_react[\"default\"].createElement(_pagination[\"default\"], {\n      style: {\n        textAlign: 'right'\n      },\n      current: page,\n      onChange: function onChange(page) {\n        return setPage(page);\n      },\n      pageSize: pageSize,\n      total: total,\n      hideOnlyOnePage: true,\n      locale: (0, _locale[\"default\"])().Pagination\n    }), !_lodash[\"default\"].isEmpty(functions) && /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n      className: _index[\"default\"].funInfo\n    }, seletedFun && seletedFun.description));\n  }\n});\n\n/***/ }),\n\n/***/ 26630:\n/***/ (function(module, exports, __webpack_require__) {\n\nvar __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var _typeof = __webpack_require__(24596);\n\nvar _Object$defineProperty = __webpack_require__(67394);\n\nvar _WeakMap = __webpack_require__(93168);\n\nvar _Object$getOwnPropertyDescriptor = __webpack_require__(23587);\n\n(function (global, factory) {\n  if (true) {\n    !(__WEBPACK_AMD_DEFINE_ARRAY__ = [exports, __webpack_require__(92243), __webpack_require__(94188), __webpack_require__(72153), __webpack_require__(47701), __webpack_require__(34132), __webpack_require__(85645), __webpack_require__(17225), __webpack_require__(77809), __webpack_require__(81853), __webpack_require__(47630), __webpack_require__(27378), __webpack_require__(66697), __webpack_require__(14798), __webpack_require__(73641), __webpack_require__(73262), __webpack_require__(96291), __webpack_require__(99328), __webpack_require__(14870), __webpack_require__(42058)], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory),\n\t\t__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?\n\t\t(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),\n\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n  } else { var mod; }\n})(typeof globalThis !== \"undefined\" ? globalThis : typeof self !== \"undefined\" ? self : this, function (_exports, _balloon, _search, _button, _tab, _dropdown, _menu, _icon, _asyncToGenerator2, _slicedToArray2, _functionsList, _react, _Translation, _i18n, _index2, _FlowConstants, _chaos, _sreUtils, _sreUtilsDva, _dva) {\n  \"use strict\";\n\n  var _interopRequireDefault = __webpack_require__(67971);\n\n  _Object$defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n\n  _exports[\"default\"] = SceneFunctions;\n  _balloon = _interopRequireDefault(_balloon);\n  _search = _interopRequireDefault(_search);\n  _button = _interopRequireDefault(_button);\n  _tab = _interopRequireDefault(_tab);\n  _dropdown = _interopRequireDefault(_dropdown);\n  _menu = _interopRequireDefault(_menu);\n  _icon = _interopRequireDefault(_icon);\n  _asyncToGenerator2 = _interopRequireDefault(_asyncToGenerator2);\n  _slicedToArray2 = _interopRequireDefault(_slicedToArray2);\n  _functionsList = _interopRequireDefault(_functionsList);\n  _react = _interopRequireWildcard(_react);\n  _Translation = _interopRequireDefault(_Translation);\n  _i18n = _interopRequireDefault(_i18n);\n  _index2 = _interopRequireDefault(_index2);\n\n  function _getRequireWildcardCache(nodeInterop) { if (typeof _WeakMap !== \"function\") return null; var cacheBabelInterop = new _WeakMap(); var cacheNodeInterop = new _WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\n  function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { \"default\": obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = _Object$defineProperty && _Object$getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? _Object$getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { _Object$defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj[\"default\"] = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\n  function SceneFunctions() {\n    var dispatch = (0, _sreUtilsDva.useDispatch)();\n    var history = (0, _dva.useHistory)();\n    var scopeType = (0, _sreUtils.getParams)('scopeType') || _FlowConstants.SCOPE_TYPE.K8S + ''; // const [ scopeType, setScopeType ] = useState(SCOPE_TYPE.HOST);\n\n    /** 嵌套tab数据 */\n\n    var _useState = (0, _react.useState)([]),\n        _useState2 = (0, _slicedToArray2[\"default\"])(_useState, 2),\n        tabs = _useState2[0],\n        setTabs = _useState2[1];\n    /** 当前选择tab 数组 */\n\n\n    var _useState3 = (0, _react.useState)([]),\n        _useState4 = (0, _slicedToArray2[\"default\"])(_useState3, 2),\n        selTabs = _useState4[0],\n        setSelTabs = _useState4[1];\n\n    var _useState5 = (0, _react.useState)(''),\n        _useState6 = (0, _slicedToArray2[\"default\"])(_useState5, 2),\n        searchKey = _useState6[0],\n        setSearchKey = _useState6[1]; // 搜索内容，如果为空，显示类目，否则显示搜索结果\n\n\n    var _useState7 = (0, _react.useState)(),\n        _useState8 = (0, _slicedToArray2[\"default\"])(_useState7, 2),\n        seletedFun = _useState8[0],\n        setSeletedFun = _useState8[1]; // 被选择的场景\n\n\n    var _useState9 = (0, _react.useState)(function () {\n      if (localStorage.getItem('createByCode')) {\n        return false;\n      }\n\n      return true;\n    }),\n        _useState10 = (0, _slicedToArray2[\"default\"])(_useState9, 2),\n        ballonVisible = _useState10[0],\n        setBallonVisible = _useState10[1];\n\n    (0, _react.useEffect)(function () {\n      dispatch.pageHeader.setTitle( /*#__PURE__*/_react[\"default\"].createElement(_Translation[\"default\"], null, \"Practice scenarios\"));\n      dispatch.pageHeader.setBreadCrumbItems(_chaos.CHAOS_DEFAULT_BREADCRUMB_ITEM.concat([// 修改面包屑\n      {\n        key: 'scenes',\n        value: _i18n[\"default\"].t('Practice scenarios'),\n        path: '/chaos/scenes'\n      }]));\n      dispatch.pageHeader.showBackArrow(true);\n    }, []);\n    (0, _react.useEffect)(function () {\n      getCategoriesLs();\n    }, [scopeType]);\n    (0, _react.useEffect)(function () {\n      // 重置tab默认选项\n      if ((tabs === null || tabs === void 0 ? void 0 : tabs.length) > 0) {\n        var defaultSel = getDefaultSel(tabs[0]);\n        setSelTabs(defaultSel);\n      }\n    }, [tabs, searchKey]);\n\n    var getDefaultSel = function getDefaultSel(info) {\n      var ids = [];\n      var id1 = info.categoryId,\n          ch1 = info.children;\n      ids.push(id1);\n\n      if ((ch1 === null || ch1 === void 0 ? void 0 : ch1.length) > 0) {\n        var _ch1$ = ch1[0],\n            id2 = _ch1$.categoryId,\n            ch2 = _ch1$.children;\n        ids.push(id2);\n\n        if ((ch2 === null || ch2 === void 0 ? void 0 : ch2.length) > 0) {\n          var id3 = ch2[0].categoryId;\n          ids.push(id3);\n        }\n      }\n\n      return ids;\n    };\n\n    var getCategoriesLs = /*#__PURE__*/function () {\n      var _ref = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n        var cates;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return dispatch.experimentScene.getCategories({\n                  phase: 1 << 1,\n                  // eslint-disable-line no-bitwise\n                  scopeType: scopeType,\n                  filterNoChild: true\n                });\n\n              case 2:\n                cates = _context.sent;\n                setTabs(cates);\n\n              case 4:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      return function getCategoriesLs() {\n        return _ref.apply(this, arguments);\n      };\n    }();\n    /** tab 选项切换，_index: 0：第一层tab， 1: 第二层tab */\n\n\n    function handleTabChang(value, _index, parentId) {\n      if (_index === 0) {\n        var tempTab = tabs.find(function (item) {\n          return item.categoryId === value;\n        });\n\n        if (tempTab) {\n          setSelTabs(getDefaultSel(tempTab));\n        }\n      } else if (_index === 1) {\n        setSelTabs([selTabs[0], value]);\n      } else if (_index === 2) {\n        setSelTabs([selTabs[0], parentId, value]);\n      }\n    }\n\n    function handleSelected(fun) {\n      fun && setSeletedFun(fun);\n    }\n\n    var handleCreateByFunction = function handleCreateByFunction() {\n      var _seletedFun$code = seletedFun.code,\n          code = _seletedFun$code === void 0 ? '' : _seletedFun$code;\n      dispatch.experimentEditor.setClearExperiment();\n      code && (0, _sreUtils.pushUrl)(history, '/chaos/experiment/editor', {\n        code: code\n      });\n    };\n\n    function handleCloseBall() {\n      setBallonVisible(false);\n      localStorage.setItem('createByCode', '1');\n    }\n\n    var lastId = (selTabs === null || selTabs === void 0 ? void 0 : selTabs.length) === 3 ? selTabs[2] : null;\n\n    var renderTabItem = function renderTabItem(temp) {\n      var name = temp.name,\n          children = temp.children,\n          categoryId = temp.categoryId;\n      var title = temp.name;\n\n      if ((children === null || children === void 0 ? void 0 : children.length) > 0) {\n        var selItem = lastId ? children.find(function (item) {\n          return item.categoryId === lastId;\n        }) : null;\n        title = /*#__PURE__*/_react[\"default\"].createElement(_dropdown[\"default\"], {\n          trigger: /*#__PURE__*/_react[\"default\"].createElement(\"span\", null, name, \" \", selItem ? \"/ \".concat(selItem.name) : '', \" \", /*#__PURE__*/_react[\"default\"].createElement(_icon[\"default\"], {\n            type: \"arrow-down\"\n          })),\n          afterOpen: function afterOpen() {\n            return console.log('after open');\n          }\n        }, /*#__PURE__*/_react[\"default\"].createElement(_menu[\"default\"], {\n          onItemClick: function onItemClick(key) {\n            handleTabChang(key, 2, categoryId);\n          }\n        }, children === null || children === void 0 ? void 0 : children.map(function (item) {\n          return /*#__PURE__*/_react[\"default\"].createElement(_menu[\"default\"].Item, {\n            key: item.categoryId\n          }, /*#__PURE__*/_react[\"default\"].createElement(\"span\", {\n            className: item.categoryId === lastId ? _index2[\"default\"].link : ''\n          }, item.name));\n        })));\n      }\n\n      return /*#__PURE__*/_react[\"default\"].createElement(_tab[\"default\"].Item, {\n        title: title,\n        key: \"\".concat((children === null || children === void 0 ? void 0 : children.length) > 0 ? '--' : '').concat(temp.categoryId)\n      });\n    };\n\n    var renderTabs = function renderTabs() {\n      return /*#__PURE__*/_react[\"default\"].createElement(_tab[\"default\"], {\n        shape: \"wrapped\",\n        activeKey: selTabs === null || selTabs === void 0 ? void 0 : selTabs[0],\n        onChange: function onChange(value) {\n          return handleTabChang(value, 0);\n        }\n      }, tabs === null || tabs === void 0 ? void 0 : tabs.map(function (item) {\n        var _item$children;\n\n        return /*#__PURE__*/_react[\"default\"].createElement(_tab[\"default\"].Item, {\n          title: item.name,\n          key: item.categoryId\n        }, /*#__PURE__*/_react[\"default\"].createElement(_tab[\"default\"], {\n          shape: \"pure\",\n          activeKey: \"\".concat(selTabs.length === 3 ? '--' : '').concat(selTabs === null || selTabs === void 0 ? void 0 : selTabs[1]),\n          className: _index2[\"default\"].tabSecond,\n          onChange: function onChange(value) {\n            if (!String(value).startsWith('--')) {\n              handleTabChang(value, 1);\n            }\n          }\n        }, (_item$children = item.children) === null || _item$children === void 0 ? void 0 : _item$children.map(function (temp) {\n          return renderTabItem(temp);\n        })));\n      }));\n    };\n\n    return /*#__PURE__*/_react[\"default\"].createElement(\"div\", null, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n      className: _index2[\"default\"].searchContent\n    }, /*#__PURE__*/_react[\"default\"].createElement(_button[\"default\"].Group, null, /*#__PURE__*/_react[\"default\"].createElement(_button[\"default\"], {\n      type: scopeType === _FlowConstants.SCOPE_TYPE.K8S + '' ? 'primary' : 'normal',\n      onClick: function onClick() {\n        return (0, _sreUtils.pushUrl)(history, '/chaos/scenes', {\n          scopeType: _FlowConstants.SCOPE_TYPE.K8S\n        });\n      }\n    }, \"Kubernetes\"), /*#__PURE__*/_react[\"default\"].createElement(_button[\"default\"], {\n      type: scopeType === _FlowConstants.SCOPE_TYPE.HOST + '' ? 'primary' : 'normal',\n      onClick: function onClick() {\n        return (0, _sreUtils.pushUrl)(history, '/chaos/scenes', {\n          scopeType: _FlowConstants.SCOPE_TYPE.HOST\n        });\n      }\n    }, /*#__PURE__*/_react[\"default\"].createElement(_Translation[\"default\"], null, \"Host\"))), \"\\xA0\\xA0\", /*#__PURE__*/_react[\"default\"].createElement(_search[\"default\"], {\n      placeholder: _i18n[\"default\"].t('please input'),\n      onSearch: function onSearch(value) {\n        return setSearchKey(value);\n      },\n      style: {\n        width: '400px',\n        marginRight: 8\n      },\n      onChange: function onChange(value) {\n        return setSearchKey(value);\n      }\n    }), /*#__PURE__*/_react[\"default\"].createElement(_balloon[\"default\"], {\n      trigger: /*#__PURE__*/_react[\"default\"].createElement(_button[\"default\"], {\n        type: \"primary\",\n        onClick: handleCreateByFunction,\n        id: \"content\"\n      }, /*#__PURE__*/_react[\"default\"].createElement(_Translation[\"default\"], null, \"create drill\")),\n      align: \"t\",\n      visible: ballonVisible,\n      popupContainer: \"content\",\n      onClose: handleCloseBall\n    }, /*#__PURE__*/_react[\"default\"].createElement(\"div\", null, /*#__PURE__*/_react[\"default\"].createElement(_Translation[\"default\"], null, \"Select a scene to directly create a drill\"), \"~\"))), searchKey && /*#__PURE__*/_react[\"default\"].createElement(_react[\"default\"].Fragment, null, /*#__PURE__*/_react[\"default\"].createElement(\"div\", null, /*#__PURE__*/_react[\"default\"].createElement(_Translation[\"default\"], null, \"Search results\"), \"\\uFF1A\"), /*#__PURE__*/_react[\"default\"].createElement(_functionsList[\"default\"], {\n      searchKey: searchKey,\n      scopeType: scopeType,\n      seletedFun: seletedFun,\n      onSelected: handleSelected\n    })) || /*#__PURE__*/_react[\"default\"].createElement(_react[\"default\"].Fragment, null, renderTabs(), /*#__PURE__*/_react[\"default\"].createElement(_functionsList[\"default\"], {\n      selTabs: selTabs,\n      scopeType: scopeType,\n      seletedFun: seletedFun,\n      onSelected: handleSelected\n    })));\n  }\n});\n\n/***/ }),\n\n/***/ 26576:\n/***/ ((module, __webpack_exports__, __webpack_require__) => {\n\n\"use strict\";\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Z\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(60994);\n/* harmony import */ var _node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(93476);\n/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__);\n// Imports\n\n\nvar ___CSS_LOADER_EXPORT___ = _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default()((_node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0___default()));\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".index__searchContent__N5cE5 {\\n  display: flex;\\n  justify-content: flex-start;\\n  margin-bottom: 16px;\\n}\\n\\n  .index__searchContent__N5cE5 .index__actionSelect__pIemo {\\n    width: 140px;\\n    margin-right: 8px;\\n  }\\n\\n.index__tabSecond__Ltz7S {\\n  margin-top: 16px;\\n}\\n\\n.index__funContent__FAaN8 {\\n  margin-top: 24px;\\n  height: 100%;\\n}\\n\\n.index__funContent__FAaN8 .index__funList__m7cYF {\\n    width: 100%;\\n    display: flex;\\n    justify-content: flex-start;\\n    flex-wrap: wrap;\\n  }\\n\\n.index__funContent__FAaN8 .index__funList__m7cYF .index__listCard__Rl4om {\\n      height: 44px;\\n      width: 284px;\\n      padding: 12px 16px;\\n      display: flex;\\n      justify-content: flex-start;\\n      align-items: center;\\n      margin-right: 16px;\\n      margin-bottom: 16px;\\n\\n    }\\n\\n.index__funContent__FAaN8 .index__funList__m7cYF .index__listCard__Rl4om:hover {\\n        cursor: pointer;\\n      }\\n\\n.index__funContent__FAaN8 .index__funInfo__r1z0w {\\n    height: 154px;\\n    width: 100%;\\n    background: #F7F7F7;\\n    margin-top: 8px;\\n    padding: 12px 16px;\\n  }\\n\\n.index__radio__f1N5K {\\n  height: 14px;\\n  width: 14px;\\n  border: 1px solid #DEDEDE;\\n  border-radius: 50%;\\n  margin-right: 8px;\\n  display: flex;\\n  justify-content: center;\\n  align-items: center;\\n}\\n\\n.index__seleted__RrOyi {\\n  height: 14px;\\n  width: 14px;\\n  background: #FFFFFF;\\n  border-radius: 50%;\\n  border: 1px solid #0070CC;\\n  margin-right: 8px;\\n  display: flex;\\n  justify-content: center;\\n  align-items: center;\\n}\\n\\n.index__seletedCard__C8oB2 {\\n  background: #E5F3FF;\\n  border: 1px solid #0070CC;\\n  box-shadow: 0 1px 4px 0 rgba(0,0,0,0.13);\\n}\\n\\n.index__Card__9AXhB {\\n  background: #FFFFFF;\\n  box-shadow: 0 1px 4px 0 rgba(0,0,0,0.13);\\n}\\n\\n.index__selectedCon__kCmYG {\\n  height: 6px;\\n  width: 6px;\\n  background: #0070CC;\\n  background-color: #0070CC;\\n  border-radius: 50%;\\n}\\n\\n.index__noDate__ZuKj2 {\\n  margin-top: 10%;\\n  margin-left: 40%;\\n}\\n.index__link__4RqDl {\\n  color: #0070CC;\\n  font-weight: bold;\\n}\\n\", \"\",{\"version\":3,\"sources\":[\"webpack://./pages/Chaos/SceneFunction/index.css\"],\"names\":[],\"mappings\":\"AAAA;EACE,aAAa;EACb,2BAA2B;EAC3B,mBAAmB;AAMrB;;EAJE;IACE,YAAY;IACZ,iBAAiB;EACnB;;AAGF;EACE,gBAAgB;AAClB;;AAEA;EACE,gBAAgB;EAChB,YAAY;AAgCd;;AA9BE;IACE,WAAW;IACX,aAAa;IACb,2BAA2B;IAC3B,eAAe;EAiBjB;;AAfE;MACE,YAAY;MACZ,YAAY;MACZ,kBAAkB;MAClB,aAAa;MACb,2BAA2B;MAC3B,mBAAmB;MACnB,kBAAkB;MAClB,mBAAmB;;IAMrB;;AAJE;QACE,eAAe;MACjB;;AAKJ;IACE,aAAa;IACb,WAAW;IACX,mBAAmB;IACnB,eAAe;IACf,kBAAkB;EACpB;;AAGF;EACE,YAAY;EACZ,WAAW;EACX,yBAAyB;EACzB,kBAAkB;EAClB,iBAAiB;EACjB,aAAa;EACb,uBAAuB;EACvB,mBAAmB;AACrB;;AAEA;EACE,YAAY;EACZ,WAAW;EACX,mBAAmB;EACnB,kBAAkB;EAClB,yBAAyB;EACzB,iBAAiB;EACjB,aAAa;EACb,uBAAuB;EACvB,mBAAmB;AACrB;;AAEA;EACE,mBAAmB;EACnB,yBAAyB;EACzB,wCAAwC;AAC1C;;AAEA;EACE,mBAAmB;EACnB,wCAAwC;AAC1C;;AAEA;EACE,WAAW;EACX,UAAU;EACV,mBAAmB;EACnB,yBAAyB;EACzB,kBAAkB;AACpB;;AAEA;EACE,eAAe;EACf,gBAAgB;AAClB;AACA;EACE,cAAc;EACd,iBAAiB;AACnB\",\"sourcesContent\":[\".searchContent {\\n  display: flex;\\n  justify-content: flex-start;\\n  margin-bottom: 16px;\\n\\n  .actionSelect {\\n    width: 140px;\\n    margin-right: 8px;\\n  }\\n}\\n\\n.tabSecond {\\n  margin-top: 16px;\\n}\\n\\n.funContent {\\n  margin-top: 24px;\\n  height: 100%;\\n\\n  .funList {\\n    width: 100%;\\n    display: flex;\\n    justify-content: flex-start;\\n    flex-wrap: wrap;\\n\\n    .listCard {\\n      height: 44px;\\n      width: 284px;\\n      padding: 12px 16px;\\n      display: flex;\\n      justify-content: flex-start;\\n      align-items: center;\\n      margin-right: 16px;\\n      margin-bottom: 16px;\\n      \\n      &:hover {\\n        cursor: pointer;\\n      }\\n\\n    }\\n  }\\n\\n  .funInfo {\\n    height: 154px;\\n    width: 100%;\\n    background: #F7F7F7;\\n    margin-top: 8px;\\n    padding: 12px 16px;\\n  }\\n}\\n\\n.radio {\\n  height: 14px;\\n  width: 14px;\\n  border: 1px solid #DEDEDE;\\n  border-radius: 50%;\\n  margin-right: 8px;\\n  display: flex;\\n  justify-content: center;\\n  align-items: center;\\n}\\n\\n.seleted {\\n  height: 14px;\\n  width: 14px;\\n  background: #FFFFFF;\\n  border-radius: 50%;\\n  border: 1px solid #0070CC;\\n  margin-right: 8px;\\n  display: flex;\\n  justify-content: center;\\n  align-items: center;\\n}\\n\\n.seletedCard {\\n  background: #E5F3FF;\\n  border: 1px solid #0070CC;\\n  box-shadow: 0 1px 4px 0 rgba(0,0,0,0.13);\\n}\\n\\n.Card {\\n  background: #FFFFFF;\\n  box-shadow: 0 1px 4px 0 rgba(0,0,0,0.13);\\n}\\n\\n.selectedCon {\\n  height: 6px;\\n  width: 6px;\\n  background: #0070CC;\\n  background-color: #0070CC;\\n  border-radius: 50%;\\n}\\n\\n.noDate {\\n  margin-top: 10%;\\n  margin-left: 40%;\\n}\\n.link {\\n  color: #0070CC;\\n  font-weight: bold;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\n___CSS_LOADER_EXPORT___.locals = {\n\t\"searchContent\": \"index__searchContent__N5cE5\",\n\t\"actionSelect\": \"index__actionSelect__pIemo\",\n\t\"tabSecond\": \"index__tabSecond__Ltz7S\",\n\t\"funContent\": \"index__funContent__FAaN8\",\n\t\"funList\": \"index__funList__m7cYF\",\n\t\"listCard\": \"index__listCard__Rl4om\",\n\t\"funInfo\": \"index__funInfo__r1z0w\",\n\t\"radio\": \"index__radio__f1N5K\",\n\t\"seleted\": \"index__seleted__RrOyi\",\n\t\"seletedCard\": \"index__seletedCard__C8oB2\",\n\t\"Card\": \"index__Card__9AXhB\",\n\t\"selectedCon\": \"index__selectedCon__kCmYG\",\n\t\"noDate\": \"index__noDate__ZuKj2\",\n\t\"link\": \"index__link__4RqDl\"\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (___CSS_LOADER_EXPORT___);\n\n\n/***/ }),\n\n/***/ 73641:\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(1892);\n/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _node_modules_css_modules_typescript_loader_index_js_node_modules_css_loader_dist_cjs_js_ruleSet_1_rules_0_oneOf_3_use_2_node_modules_postcss_loader_dist_cjs_js_index_css_css_modules__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(26576);\n\n            \n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default()(_node_modules_css_modules_typescript_loader_index_js_node_modules_css_loader_dist_cjs_js_ruleSet_1_rules_0_oneOf_3_use_2_node_modules_postcss_loader_dist_cjs_js_index_css_css_modules__WEBPACK_IMPORTED_MODULE_1__/* [\"default\"] */ .Z, options);\n\n\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_node_modules_css_modules_typescript_loader_index_js_node_modules_css_loader_dist_cjs_js_ruleSet_1_rules_0_oneOf_3_use_2_node_modules_postcss_loader_dist_cjs_js_index_css_css_modules__WEBPACK_IMPORTED_MODULE_1__/* [\"default\"].locals */ .Z.locals || {});\n\n/***/ })\n\n}]);"],"mappings":"AAAA;AAorBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;","sourceRoot":""}